DEBUG:asyncio:Using selector: EpollSelector
â„¹ï¸ 02:07:31 - trading_bot - [32mINFO[0m - Loaded config from config/enhanced_paper_trading_config.json
[32mINFO[0m:trading_bot:Loaded config from config/enhanced_paper_trading_config.json
â„¹ï¸ 02:07:31 - trading_bot - [32mINFO[0m - Kill switches configured:
[32mINFO[0m:trading_bot:Kill switches configured:
â„¹ï¸ 02:07:31 - trading_bot - [32mINFO[0m -   enabled: True
[32mINFO[0m:trading_bot:  enabled: True
â„¹ï¸ 02:07:31 - trading_bot - [32mINFO[0m -   max_daily_loss_pct: 2.0
[32mINFO[0m:trading_bot:  max_daily_loss_pct: 2.0
â„¹ï¸ 02:07:31 - trading_bot - [32mINFO[0m -   max_daily_loss_dollars: 2000
[32mINFO[0m:trading_bot:  max_daily_loss_dollars: 2000
â„¹ï¸ 02:07:31 - trading_bot - [32mINFO[0m -   max_gross_exposure_pct: 50.0
[32mINFO[0m:trading_bot:  max_gross_exposure_pct: 50.0
â„¹ï¸ 02:07:31 - trading_bot - [32mINFO[0m -   max_order_rate_per_minute: 1
[32mINFO[0m:trading_bot:  max_order_rate_per_minute: 1
â„¹ï¸ 02:07:31 - trading_bot - [32mINFO[0m -   max_unhandled_exceptions: 1
[32mINFO[0m:trading_bot:  max_unhandled_exceptions: 1
â„¹ï¸ 02:07:31 - trading_bot - [32mINFO[0m - Discord notifications disabled or not configured
[32mINFO[0m:trading_bot:Discord notifications disabled or not configured
INFO:brokers.data_provider:IBKR broker initialized
INFO:brokers.data_provider:Initialized IBKRDataProvider with cache: True
â„¹ï¸ 02:07:31 - trading_bot - [32mINFO[0m - Initialized IBKR data provider
[32mINFO[0m:trading_bot:Initialized IBKR data provider
INFO:core.regime_detector:Initialized RegimeDetector with 252 day lookback
INFO:core.feature_reweighter:Initialized FeatureReweighter with 60 day window
INFO:core.feature_reweighter:Initialized AdaptiveFeatureEngine
INFO:core.regime_detector:Initialized RegimeDetector with 252 day lookback
INFO:strategies.regime_aware_ensemble:Initialized RegimeAwareEnsembleStrategy with rolling_ic combination
â„¹ï¸ 02:07:31 - trading_bot - [32mINFO[0m - Initialized strategy: regime_ensemble
[32mINFO[0m:trading_bot:Initialized strategy: regime_ensemble
â„¹ï¸ 02:07:31 - system - [32mINFO[0m - STARTUP: {
  "timestamp": "2025-08-13T02:07:31.994052",
  "initial_capital": 100000,
  "strategies": [
    "regime_ensemble"
  ],
  "symbols": [
    "SPY",
    "AAPL",
    "NVDA",
    "GOOGL",
    "MSFT",
    "TSLA",
    "AMZN",
    "META",
    "NFLX",
    "GOOG",
    "BTC-USD",
    "ETH-USD",
    "XRP-USD",
    "DOGE-USD",
    "SOL-USD",
    "ADA-USD",
    "DOT-USD",
    "LINK-USD",
    "BCH-USD",
    "LTC-USD"
  ],
  "config_file": "config/enhanced_paper_trading_config.json"
}
[32mINFO[0m:system:STARTUP: {
  "timestamp": "2025-08-13T02:07:31.994052",
  "initial_capital": 100000,
  "strategies": [
    "regime_ensemble"
  ],
  "symbols": [
    "SPY",
    "AAPL",
    "NVDA",
    "GOOGL",
    "MSFT",
    "TSLA",
    "AMZN",
    "META",
    "NFLX",
    "GOOG",
    "BTC-USD",
    "ETH-USD",
    "XRP-USD",
    "DOGE-USD",
    "SOL-USD",
    "ADA-USD",
    "DOT-USD",
    "LINK-USD",
    "BCH-USD",
    "LTC-USD"
  ],
  "config_file": "config/enhanced_paper_trading_config.json"
}
â„¹ï¸ 02:07:31 - trading_bot - [32mINFO[0m - ðŸš€ System started: $100,000 capital, 1 strategies active
[32mINFO[0m:trading_bot:ðŸš€ System started: $100,000 capital, 1 strategies active
â„¹ï¸ 02:07:31 - trading_bot - [32mINFO[0m - Initialized EnhancedPaperTradingSystem with $100,000 capital
[32mINFO[0m:trading_bot:Initialized EnhancedPaperTradingSystem with $100,000 capital
DEBUG:yfinance:Entering history()
DEBUG:peewee:('CREATE TABLE IF NOT EXISTS "_tz_kv" ("key" VARCHAR(255) NOT NULL PRIMARY KEY, "value" VARCHAR(255)) WITHOUT ROWID', [])
DEBUG:peewee:('SELECT "t1"."key", "t1"."value" FROM "_tz_kv" AS "t1" WHERE ("t1"."key" = ?) LIMIT ? OFFSET ?', ['SPY', 1, 0])
DEBUG:yfinance: Entering history()
DEBUG:yfinance:SPY: Yahoo GET parameters: {'period1': '2022-05-11 00:00:00-04:00', 'period2': '2024-01-06 00:00:00-05:00', 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'}
DEBUG:yfinance:  Entering get()
DEBUG:yfinance:   Entering _make_request()
DEBUG:yfinance:url=https://query2.finance.yahoo.com/v8/finance/chart/SPY
DEBUG:yfinance:params=frozendict.frozendict({'period1': 1652241600, 'period2': 1704517200, 'interval': '1d', 'includePrePost': False, 'events': 'div,splits,capitalGains'})
DEBUG:yfinance:    Entering _get_cookie_and_crumb()
DEBUG:yfinance:cookie_mode = 'basic'
DEBUG:yfinance:     Entering _get_cookie_and_crumb_basic()
DEBUG:yfinance:      Entering _get_cookie_basic()
DEBUG:yfinance:       Entering _load_cookie_curlCffi()
DEBUG:peewee:('CREATE TABLE IF NOT EXISTS "_cookieschema" ("strategy" VARCHAR(255) NOT NULL PRIMARY KEY, "fetch_date" DATETIME NOT NULL, "cookie_bytes" BLOB NOT NULL) WITHOUT ROWID', [])
DEBUG:peewee:('SELECT "t1"."strategy", "t1"."fetch_date", "t1"."cookie_bytes" FROM "_cookieschema" AS "t1" WHERE ("t1"."strategy" = ?) LIMIT ? OFFSET ?', ['curlCffi', 1, 0])
DEBUG:yfinance:       Exiting _load_cookie_curlCffi()
DEBUG:yfinance:reusing persistent cookie
DEBUG:yfinance:      Exiting _get_cookie_basic()
DEBUG:yfinance:      Entering _get_crumb_basic()
DEBUG:yfinance:       Entering _get_cookie_basic()
DEBUG:yfinance:reusing cookie
DEBUG:yfinance:       Exiting _get_cookie_basic()
DEBUG:yfinance:crumb = 'laqDymB6937'
DEBUG:yfinance:      Exiting _get_crumb_basic()
DEBUG:yfinance:     Exiting _get_cookie_and_crumb_basic()
DEBUG:yfinance:    Exiting _get_cookie_and_crumb()
DEBUG:yfinance:response code=200
DEBUG:yfinance:   Exiting _make_request()
DEBUG:yfinance:  Exiting get()
DEBUG:yfinance:SPY: yfinance received OHLC data: 2022-05-11 13:30:00 -> 2024-01-05 14:30:00
DEBUG:yfinance:SPY: OHLC after cleaning: 2022-05-11 09:30:00-04:00 -> 2024-01-05 09:30:00-05:00
DEBUG:yfinance:SPY: OHLC after combining events: 2022-05-11 00:00:00-04:00 -> 2024-01-05 00:00:00-05:00
DEBUG:yfinance:SPY: yfinance returning OHLC: 2022-05-11 00:00:00-04:00 -> 2024-01-05 00:00:00-05:00
DEBUG:yfinance: Exiting history()
DEBUG:yfinance:Exiting history()
DEBUG:backtest:Skipping trading for 2022-05-11 (day 1, need 252 days)
DEBUG:backtest:Skipping trading for 2022-05-12 (day 2, need 252 days)
DEBUG:backtest:Skipping trading for 2022-05-13 (day 3, need 252 days)
DEBUG:backtest:Skipping trading for 2022-05-16 (day 4, need 252 days)
DEBUG:backtest:Skipping trading for 2022-05-17 (day 5, need 252 days)
DEBUG:backtest:Skipping trading for 2022-05-18 (day 6, need 252 days)
DEBUG:backtest:Skipping trading for 2022-05-19 (day 7, need 252 days)
DEBUG:backtest:Skipping trading for 2022-05-20 (day 8, need 252 days)
DEBUG:backtest:Skipping trading for 2022-05-23 (day 9, need 252 days)
DEBUG:backtest:Skipping trading for 2022-05-24 (day 10, need 252 days)
DEBUG:backtest:Skipping trading for 2022-05-25 (day 11, need 252 days)
DEBUG:backtest:Skipping trading for 2022-05-26 (day 12, need 252 days)
DEBUG:backtest:Skipping trading for 2022-05-27 (day 13, need 252 days)
DEBUG:backtest:Skipping trading for 2022-05-31 (day 14, need 252 days)
DEBUG:backtest:Skipping trading for 2022-06-01 (day 15, need 252 days)
DEBUG:backtest:Skipping trading for 2022-06-02 (day 16, need 252 days)
DEBUG:backtest:Skipping trading for 2022-06-03 (day 17, need 252 days)
DEBUG:backtest:Skipping trading for 2022-06-06 (day 18, need 252 days)
DEBUG:backtest:Skipping trading for 2022-06-07 (day 19, need 252 days)
DEBUG:backtest:Skipping trading for 2022-06-08 (day 20, need 252 days)
DEBUG:backtest:Skipping trading for 2022-06-09 (day 21, need 252 days)
DEBUG:backtest:Skipping trading for 2022-06-10 (day 22, need 252 days)
DEBUG:backtest:Skipping trading for 2022-06-13 (day 23, need 252 days)
DEBUG:backtest:Skipping trading for 2022-06-14 (day 24, need 252 days)
DEBUG:backtest:Skipping trading for 2022-06-15 (day 25, need 252 days)
DEBUG:backtest:Skipping trading for 2022-06-16 (day 26, need 252 days)
DEBUG:backtest:Skipping trading for 2022-06-17 (day 27, need 252 days)
DEBUG:backtest:Skipping trading for 2022-06-21 (day 28, need 252 days)
DEBUG:backtest:Skipping trading for 2022-06-22 (day 29, need 252 days)
DEBUG:backtest:Skipping trading for 2022-06-23 (day 30, need 252 days)
DEBUG:backtest:Skipping trading for 2022-06-24 (day 31, need 252 days)
DEBUG:backtest:Skipping trading for 2022-06-27 (day 32, need 252 days)
DEBUG:backtest:Skipping trading for 2022-06-28 (day 33, need 252 days)
DEBUG:backtest:Skipping trading for 2022-06-29 (day 34, need 252 days)
DEBUG:backtest:Skipping trading for 2022-06-30 (day 35, need 252 days)
DEBUG:backtest:Skipping trading for 2022-07-01 (day 36, need 252 days)
DEBUG:backtest:Skipping trading for 2022-07-05 (day 37, need 252 days)
DEBUG:backtest:Skipping trading for 2022-07-06 (day 38, need 252 days)
DEBUG:backtest:Skipping trading for 2022-07-07 (day 39, need 252 days)
DEBUG:backtest:Skipping trading for 2022-07-08 (day 40, need 252 days)
DEBUG:backtest:Skipping trading for 2022-07-11 (day 41, need 252 days)
DEBUG:backtest:Skipping trading for 2022-07-12 (day 42, need 252 days)
DEBUG:backtest:Skipping trading for 2022-07-13 (day 43, need 252 days)
DEBUG:backtest:Skipping trading for 2022-07-14 (day 44, need 252 days)
DEBUG:backtest:Skipping trading for 2022-07-15 (day 45, need 252 days)
DEBUG:backtest:Skipping trading for 2022-07-18 (day 46, need 252 days)
DEBUG:backtest:Skipping trading for 2022-07-19 (day 47, need 252 days)
DEBUG:backtest:Skipping trading for 2022-07-20 (day 48, need 252 days)
DEBUG:backtest:Skipping trading for 2022-07-21 (day 49, need 252 days)
DEBUG:backtest:Skipping trading for 2022-07-22 (day 50, need 252 days)
DEBUG:backtest:Skipping trading for 2022-07-25 (day 51, need 252 days)
DEBUG:backtest:Skipping trading for 2022-07-26 (day 52, need 252 days)
DEBUG:backtest:Skipping trading for 2022-07-27 (day 53, need 252 days)
DEBUG:backtest:Skipping trading for 2022-07-28 (day 54, need 252 days)
DEBUG:backtest:Skipping trading for 2022-07-29 (day 55, need 252 days)
DEBUG:backtest:Skipping trading for 2022-08-01 (day 56, need 252 days)
DEBUG:backtest:Skipping trading for 2022-08-02 (day 57, need 252 days)
DEBUG:backtest:Skipping trading for 2022-08-03 (day 58, need 252 days)
DEBUG:backtest:Skipping trading for 2022-08-04 (day 59, need 252 days)
DEBUG:backtest:Skipping trading for 2022-08-05 (day 60, need 252 days)
DEBUG:backtest:Skipping trading for 2022-08-08 (day 61, need 252 days)
DEBUG:backtest:Skipping trading for 2022-08-09 (day 62, need 252 days)
DEBUG:backtest:Skipping trading for 2022-08-10 (day 63, need 252 days)
DEBUG:backtest:Skipping trading for 2022-08-11 (day 64, need 252 days)
DEBUG:backtest:Skipping trading for 2022-08-12 (day 65, need 252 days)
DEBUG:backtest:Skipping trading for 2022-08-15 (day 66, need 252 days)
DEBUG:backtest:Skipping trading for 2022-08-16 (day 67, need 252 days)
DEBUG:backtest:Skipping trading for 2022-08-17 (day 68, need 252 days)
DEBUG:backtest:Skipping trading for 2022-08-18 (day 69, need 252 days)
DEBUG:backtest:Skipping trading for 2022-08-19 (day 70, need 252 days)
DEBUG:backtest:Skipping trading for 2022-08-22 (day 71, need 252 days)
DEBUG:backtest:Skipping trading for 2022-08-23 (day 72, need 252 days)
DEBUG:backtest:Skipping trading for 2022-08-24 (day 73, need 252 days)
DEBUG:backtest:Skipping trading for 2022-08-25 (day 74, need 252 days)
DEBUG:backtest:Skipping trading for 2022-08-26 (day 75, need 252 days)
DEBUG:backtest:Skipping trading for 2022-08-29 (day 76, need 252 days)
DEBUG:backtest:Skipping trading for 2022-08-30 (day 77, need 252 days)
DEBUG:backtest:Skipping trading for 2022-08-31 (day 78, need 252 days)
DEBUG:backtest:Skipping trading for 2022-09-01 (day 79, need 252 days)
DEBUG:backtest:Skipping trading for 2022-09-02 (day 80, need 252 days)
DEBUG:backtest:Skipping trading for 2022-09-06 (day 81, need 252 days)
DEBUG:backtest:Skipping trading for 2022-09-07 (day 82, need 252 days)
DEBUG:backtest:Skipping trading for 2022-09-08 (day 83, need 252 days)
DEBUG:backtest:Skipping trading for 2022-09-09 (day 84, need 252 days)
DEBUG:backtest:Skipping trading for 2022-09-12 (day 85, need 252 days)
DEBUG:backtest:Skipping trading for 2022-09-13 (day 86, need 252 days)
DEBUG:backtest:Skipping trading for 2022-09-14 (day 87, need 252 days)
DEBUG:backtest:Skipping trading for 2022-09-15 (day 88, need 252 days)
DEBUG:backtest:Skipping trading for 2022-09-16 (day 89, need 252 days)
DEBUG:backtest:Skipping trading for 2022-09-19 (day 90, need 252 days)
DEBUG:backtest:Skipping trading for 2022-09-20 (day 91, need 252 days)
DEBUG:backtest:Skipping trading for 2022-09-21 (day 92, need 252 days)
DEBUG:backtest:Skipping trading for 2022-09-22 (day 93, need 252 days)
DEBUG:backtest:Skipping trading for 2022-09-23 (day 94, need 252 days)
DEBUG:backtest:Skipping trading for 2022-09-26 (day 95, need 252 days)
DEBUG:backtest:Skipping trading for 2022-09-27 (day 96, need 252 days)
DEBUG:backtest:Skipping trading for 2022-09-28 (day 97, need 252 days)
DEBUG:backtest:Skipping trading for 2022-09-29 (day 98, need 252 days)
DEBUG:backtest:Skipping trading for 2022-09-30 (day 99, need 252 days)
DEBUG:backtest:Skipping trading for 2022-10-03 (day 100, need 252 days)
DEBUG:backtest:Skipping trading for 2022-10-04 (day 101, need 252 days)
DEBUG:backtest:Skipping trading for 2022-10-05 (day 102, need 252 days)
DEBUG:backtest:Skipping trading for 2022-10-06 (day 103, need 252 days)
DEBUG:backtest:Skipping trading for 2022-10-07 (day 104, need 252 days)
DEBUG:backtest:Skipping trading for 2022-10-10 (day 105, need 252 days)
DEBUG:backtest:Skipping trading for 2022-10-11 (day 106, need 252 days)
DEBUG:backtest:Skipping trading for 2022-10-12 (day 107, need 252 days)
DEBUG:backtest:Skipping trading for 2022-10-13 (day 108, need 252 days)
DEBUG:backtest:Skipping trading for 2022-10-14 (day 109, need 252 days)
DEBUG:backtest:Skipping trading for 2022-10-17 (day 110, need 252 days)
DEBUG:backtest:Skipping trading for 2022-10-18 (day 111, need 252 days)
DEBUG:backtest:Skipping trading for 2022-10-19 (day 112, need 252 days)
DEBUG:backtest:Skipping trading for 2022-10-20 (day 113, need 252 days)
DEBUG:backtest:Skipping trading for 2022-10-21 (day 114, need 252 days)
DEBUG:backtest:Skipping trading for 2022-10-24 (day 115, need 252 days)
DEBUG:backtest:Skipping trading for 2022-10-25 (day 116, need 252 days)
DEBUG:backtest:Skipping trading for 2022-10-26 (day 117, need 252 days)
DEBUG:backtest:Skipping trading for 2022-10-27 (day 118, need 252 days)
DEBUG:backtest:Skipping trading for 2022-10-28 (day 119, need 252 days)
DEBUG:backtest:Skipping trading for 2022-10-31 (day 120, need 252 days)
DEBUG:backtest:Skipping trading for 2022-11-01 (day 121, need 252 days)
DEBUG:backtest:Skipping trading for 2022-11-02 (day 122, need 252 days)
DEBUG:backtest:Skipping trading for 2022-11-03 (day 123, need 252 days)
DEBUG:backtest:Skipping trading for 2022-11-04 (day 124, need 252 days)
DEBUG:backtest:Skipping trading for 2022-11-07 (day 125, need 252 days)
DEBUG:backtest:Skipping trading for 2022-11-08 (day 126, need 252 days)
DEBUG:backtest:Skipping trading for 2022-11-09 (day 127, need 252 days)
DEBUG:backtest:Skipping trading for 2022-11-10 (day 128, need 252 days)
DEBUG:backtest:Skipping trading for 2022-11-11 (day 129, need 252 days)
DEBUG:backtest:Skipping trading for 2022-11-14 (day 130, need 252 days)
DEBUG:backtest:Skipping trading for 2022-11-15 (day 131, need 252 days)
DEBUG:backtest:Skipping trading for 2022-11-16 (day 132, need 252 days)
DEBUG:backtest:Skipping trading for 2022-11-17 (day 133, need 252 days)
DEBUG:backtest:Skipping trading for 2022-11-18 (day 134, need 252 days)
DEBUG:backtest:Skipping trading for 2022-11-21 (day 135, need 252 days)
DEBUG:backtest:Skipping trading for 2022-11-22 (day 136, need 252 days)
DEBUG:backtest:Skipping trading for 2022-11-23 (day 137, need 252 days)
DEBUG:backtest:Skipping trading for 2022-11-25 (day 138, need 252 days)
DEBUG:backtest:Skipping trading for 2022-11-28 (day 139, need 252 days)
DEBUG:backtest:Skipping trading for 2022-11-29 (day 140, need 252 days)
DEBUG:backtest:Skipping trading for 2022-11-30 (day 141, need 252 days)
DEBUG:backtest:Skipping trading for 2022-12-01 (day 142, need 252 days)
DEBUG:backtest:Skipping trading for 2022-12-02 (day 143, need 252 days)
DEBUG:backtest:Skipping trading for 2022-12-05 (day 144, need 252 days)
DEBUG:backtest:Skipping trading for 2022-12-06 (day 145, need 252 days)
DEBUG:backtest:Skipping trading for 2022-12-07 (day 146, need 252 days)
DEBUG:backtest:Skipping trading for 2022-12-08 (day 147, need 252 days)
DEBUG:backtest:Skipping trading for 2022-12-09 (day 148, need 252 days)
DEBUG:backtest:Skipping trading for 2022-12-12 (day 149, need 252 days)
DEBUG:backtest:Skipping trading for 2022-12-13 (day 150, need 252 days)
DEBUG:backtest:Skipping trading for 2022-12-14 (day 151, need 252 days)
DEBUG:backtest:Skipping trading for 2022-12-15 (day 152, need 252 days)
DEBUG:backtest:Skipping trading for 2022-12-16 (day 153, need 252 days)
DEBUG:backtest:Skipping trading for 2022-12-19 (day 154, need 252 days)
DEBUG:backtest:Skipping trading for 2022-12-20 (day 155, need 252 days)
DEBUG:backtest:Skipping trading for 2022-12-21 (day 156, need 252 days)
DEBUG:backtest:Skipping trading for 2022-12-22 (day 157, need 252 days)
DEBUG:backtest:Skipping trading for 2022-12-23 (day 158, need 252 days)
DEBUG:backtest:Skipping trading for 2022-12-27 (day 159, need 252 days)
DEBUG:backtest:Skipping trading for 2022-12-28 (day 160, need 252 days)
DEBUG:backtest:Skipping trading for 2022-12-29 (day 161, need 252 days)
DEBUG:backtest:Skipping trading for 2022-12-30 (day 162, need 252 days)
DEBUG:backtest:Skipping trading for 2023-01-03 (day 163, need 252 days)
DEBUG:backtest:Skipping trading for 2023-01-04 (day 164, need 252 days)
DEBUG:backtest:Skipping trading for 2023-01-05 (day 165, need 252 days)
DEBUG:backtest:Skipping trading for 2023-01-06 (day 166, need 252 days)
DEBUG:backtest:Skipping trading for 2023-01-09 (day 167, need 252 days)
DEBUG:backtest:Skipping trading for 2023-01-10 (day 168, need 252 days)
DEBUG:backtest:Skipping trading for 2023-01-11 (day 169, need 252 days)
DEBUG:backtest:Skipping trading for 2023-01-12 (day 170, need 252 days)
DEBUG:backtest:Skipping trading for 2023-01-13 (day 171, need 252 days)
DEBUG:backtest:Skipping trading for 2023-01-17 (day 172, need 252 days)
DEBUG:backtest:Skipping trading for 2023-01-18 (day 173, need 252 days)
DEBUG:backtest:Skipping trading for 2023-01-19 (day 174, need 252 days)
DEBUG:backtest:Skipping trading for 2023-01-20 (day 175, need 252 days)
DEBUG:backtest:Skipping trading for 2023-01-23 (day 176, need 252 days)
DEBUG:backtest:Skipping trading for 2023-01-24 (day 177, need 252 days)
DEBUG:backtest:Skipping trading for 2023-01-25 (day 178, need 252 days)
DEBUG:backtest:Skipping trading for 2023-01-26 (day 179, need 252 days)
DEBUG:backtest:Skipping trading for 2023-01-27 (day 180, need 252 days)
DEBUG:backtest:Skipping trading for 2023-01-30 (day 181, need 252 days)
DEBUG:backtest:Skipping trading for 2023-01-31 (day 182, need 252 days)
DEBUG:backtest:Skipping trading for 2023-02-01 (day 183, need 252 days)
DEBUG:backtest:Skipping trading for 2023-02-02 (day 184, need 252 days)
DEBUG:backtest:Skipping trading for 2023-02-03 (day 185, need 252 days)
DEBUG:backtest:Skipping trading for 2023-02-06 (day 186, need 252 days)
DEBUG:backtest:Skipping trading for 2023-02-07 (day 187, need 252 days)
DEBUG:backtest:Skipping trading for 2023-02-08 (day 188, need 252 days)
DEBUG:backtest:Skipping trading for 2023-02-09 (day 189, need 252 days)
DEBUG:backtest:Skipping trading for 2023-02-10 (day 190, need 252 days)
DEBUG:backtest:Skipping trading for 2023-02-13 (day 191, need 252 days)
DEBUG:backtest:Skipping trading for 2023-02-14 (day 192, need 252 days)
DEBUG:backtest:Skipping trading for 2023-02-15 (day 193, need 252 days)
DEBUG:backtest:Skipping trading for 2023-02-16 (day 194, need 252 days)
DEBUG:backtest:Skipping trading for 2023-02-17 (day 195, need 252 days)
DEBUG:backtest:Skipping trading for 2023-02-21 (day 196, need 252 days)
DEBUG:backtest:Skipping trading for 2023-02-22 (day 197, need 252 days)
DEBUG:backtest:Skipping trading for 2023-02-23 (day 198, need 252 days)
DEBUG:backtest:Skipping trading for 2023-02-24 (day 199, need 252 days)
DEBUG:backtest:Skipping trading for 2023-02-27 (day 200, need 252 days)
DEBUG:backtest:Skipping trading for 2023-02-28 (day 201, need 252 days)
DEBUG:backtest:Skipping trading for 2023-03-01 (day 202, need 252 days)
DEBUG:backtest:Skipping trading for 2023-03-02 (day 203, need 252 days)
DEBUG:backtest:Skipping trading for 2023-03-03 (day 204, need 252 days)
DEBUG:backtest:Skipping trading for 2023-03-06 (day 205, need 252 days)
DEBUG:backtest:Skipping trading for 2023-03-07 (day 206, need 252 days)
DEBUG:backtest:Skipping trading for 2023-03-08 (day 207, need 252 days)
DEBUG:backtest:Skipping trading for 2023-03-09 (day 208, need 252 days)
DEBUG:backtest:Skipping trading for 2023-03-10 (day 209, need 252 days)
DEBUG:backtest:Skipping trading for 2023-03-13 (day 210, need 252 days)
DEBUG:backtest:Skipping trading for 2023-03-14 (day 211, need 252 days)
DEBUG:backtest:Skipping trading for 2023-03-15 (day 212, need 252 days)
DEBUG:backtest:Skipping trading for 2023-03-16 (day 213, need 252 days)
DEBUG:backtest:Skipping trading for 2023-03-17 (day 214, need 252 days)
DEBUG:backtest:Skipping trading for 2023-03-20 (day 215, need 252 days)
DEBUG:backtest:Skipping trading for 2023-03-21 (day 216, need 252 days)
DEBUG:backtest:Skipping trading for 2023-03-22 (day 217, need 252 days)
DEBUG:backtest:Skipping trading for 2023-03-23 (day 218, need 252 days)
DEBUG:backtest:Skipping trading for 2023-03-24 (day 219, need 252 days)
DEBUG:backtest:Skipping trading for 2023-03-27 (day 220, need 252 days)
DEBUG:backtest:Skipping trading for 2023-03-28 (day 221, need 252 days)
DEBUG:backtest:Skipping trading for 2023-03-29 (day 222, need 252 days)
DEBUG:backtest:Skipping trading for 2023-03-30 (day 223, need 252 days)
DEBUG:backtest:Skipping trading for 2023-03-31 (day 224, need 252 days)
DEBUG:backtest:Skipping trading for 2023-04-03 (day 225, need 252 days)
DEBUG:backtest:Skipping trading for 2023-04-04 (day 226, need 252 days)
DEBUG:backtest:Skipping trading for 2023-04-05 (day 227, need 252 days)
DEBUG:backtest:Skipping trading for 2023-04-06 (day 228, need 252 days)
DEBUG:backtest:Skipping trading for 2023-04-10 (day 229, need 252 days)
DEBUG:backtest:Skipping trading for 2023-04-11 (day 230, need 252 days)
DEBUG:backtest:Skipping trading for 2023-04-12 (day 231, need 252 days)
DEBUG:backtest:Skipping trading for 2023-04-13 (day 232, need 252 days)
DEBUG:backtest:Skipping trading for 2023-04-14 (day 233, need 252 days)
DEBUG:backtest:Skipping trading for 2023-04-17 (day 234, need 252 days)
DEBUG:backtest:Skipping trading for 2023-04-18 (day 235, need 252 days)
DEBUG:backtest:Skipping trading for 2023-04-19 (day 236, need 252 days)
DEBUG:backtest:Skipping trading for 2023-04-20 (day 237, need 252 days)
DEBUG:backtest:Skipping trading for 2023-04-21 (day 238, need 252 days)
DEBUG:backtest:Skipping trading for 2023-04-24 (day 239, need 252 days)
DEBUG:backtest:Skipping trading for 2023-04-25 (day 240, need 252 days)
DEBUG:backtest:Skipping trading for 2023-04-26 (day 241, need 252 days)
DEBUG:backtest:Skipping trading for 2023-04-27 (day 242, need 252 days)
DEBUG:backtest:Skipping trading for 2023-04-28 (day 243, need 252 days)
DEBUG:backtest:Skipping trading for 2023-05-01 (day 244, need 252 days)
DEBUG:backtest:Skipping trading for 2023-05-02 (day 245, need 252 days)
DEBUG:backtest:Skipping trading for 2023-05-03 (day 246, need 252 days)
DEBUG:backtest:Skipping trading for 2023-05-04 (day 247, need 252 days)
DEBUG:backtest:Skipping trading for 2023-05-05 (day 248, need 252 days)
DEBUG:backtest:Skipping trading for 2023-05-08 (day 249, need 252 days)
DEBUG:backtest:Skipping trading for 2023-05-09 (day 250, need 252 days)
DEBUG:backtest:Skipping trading for 2023-05-10 (day 251, need 252 days)
DEBUG:backtest:Skipping trading for 2023-05-11 (day 252, need 252 days)
DEBUG:backtest:Running daily trading for 2023-05-12 (day 253, history: 253)
DEBUG:backtest:Filtered data for 2023-05-12: 253 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.90)
DEBUG:backtest:Processing SPY with 253 data points
DEBUG:backtest:Generating signals for data shape: (253, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.90)
INFO:features.ensemble:Initialized SignalCombiner with 253 price observations
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Initialized SignalCombiner with 253 price observations
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Initialized SignalCombiner with 253 price observations
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.90)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=0.00, target_qty=-38.11, portfolio_value=$100000.00
DEBUG:core.portfolio:Created short position: 38.10555632490834 SPY @ $459.25, new_qty=-38.11
INFO:core.trade_logger:BUY: SPY 38.10555632490834 @ $459.25, VWAP: $459.25
INFO:backtest:Trade: SHORT 38.11 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-05-15 (day 254, history: 254)
DEBUG:backtest:Filtered data for 2023-05-15: 254 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.82)
DEBUG:backtest:Processing SPY with 254 data points
DEBUG:backtest:Generating signals for data shape: (254, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.82)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.82)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-05-16 (day 255, history: 255)
DEBUG:backtest:Filtered data for 2023-05-16: 255 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.82)
DEBUG:backtest:Processing SPY with 255 data points
DEBUG:backtest:Generating signals for data shape: (255, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.82)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.82)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-05-17 (day 256, history: 256)
DEBUG:backtest:Filtered data for 2023-05-17: 256 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.90)
DEBUG:backtest:Processing SPY with 256 data points
DEBUG:backtest:Generating signals for data shape: (256, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.90)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.90)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-05-18 (day 257, history: 257)
DEBUG:backtest:Filtered data for 2023-05-18: 257 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.82)
DEBUG:backtest:Processing SPY with 257 data points
DEBUG:backtest:Generating signals for data shape: (257, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.82)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.82)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-05-19 (day 258, history: 258)
DEBUG:backtest:Filtered data for 2023-05-19: 258 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.82)
DEBUG:backtest:Processing SPY with 258 data points
DEBUG:backtest:Generating signals for data shape: (258, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.82)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.82)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-05-22 (day 259, history: 259)
DEBUG:backtest:Filtered data for 2023-05-22: 259 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.82)
DEBUG:backtest:Processing SPY with 259 data points
DEBUG:backtest:Generating signals for data shape: (259, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.82)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.82)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-05-23 (day 260, history: 260)
DEBUG:backtest:Filtered data for 2023-05-23: 260 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.90)
DEBUG:backtest:Processing SPY with 260 data points
DEBUG:backtest:Generating signals for data shape: (260, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.90)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.90)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-05-24 (day 261, history: 261)
DEBUG:backtest:Filtered data for 2023-05-24: 261 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.90)
DEBUG:backtest:Processing SPY with 261 data points
DEBUG:backtest:Generating signals for data shape: (261, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.90)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.90)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-05-25 (day 262, history: 262)
DEBUG:backtest:Filtered data for 2023-05-25: 262 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.89)
DEBUG:backtest:Processing SPY with 262 data points
DEBUG:backtest:Generating signals for data shape: (262, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.89)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.89)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-05-26 (day 263, history: 263)
DEBUG:backtest:Filtered data for 2023-05-26: 263 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.89)
DEBUG:backtest:Processing SPY with 263 data points
DEBUG:backtest:Generating signals for data shape: (263, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.89)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.89)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-05-30 (day 264, history: 264)
DEBUG:backtest:Filtered data for 2023-05-30: 264 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 264 data points
DEBUG:backtest:Generating signals for data shape: (264, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-05-31 (day 265, history: 265)
DEBUG:backtest:Filtered data for 2023-05-31: 265 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.67)
DEBUG:backtest:Processing SPY with 265 data points
DEBUG:backtest:Generating signals for data shape: (265, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.67)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.67)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-06-01 (day 266, history: 266)
DEBUG:backtest:Filtered data for 2023-06-01: 266 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 266 data points
DEBUG:backtest:Generating signals for data shape: (266, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-06-02 (day 267, history: 267)
DEBUG:backtest:Filtered data for 2023-06-02: 267 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.73)
DEBUG:backtest:Processing SPY with 267 data points
DEBUG:backtest:Generating signals for data shape: (267, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.73)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.73)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-06-05 (day 268, history: 268)
DEBUG:backtest:Filtered data for 2023-06-05: 268 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.73)
DEBUG:backtest:Processing SPY with 268 data points
DEBUG:backtest:Generating signals for data shape: (268, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.73)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.73)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-06-06 (day 269, history: 269)
DEBUG:backtest:Filtered data for 2023-06-06: 269 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 269 data points
DEBUG:backtest:Generating signals for data shape: (269, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-06-07 (day 270, history: 270)
DEBUG:backtest:Filtered data for 2023-06-07: 270 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.73)
DEBUG:backtest:Processing SPY with 270 data points
DEBUG:backtest:Generating signals for data shape: (270, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.73)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.73)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-06-08 (day 271, history: 271)
DEBUG:backtest:Filtered data for 2023-06-08: 271 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
DEBUG:backtest:Processing SPY with 271 data points
DEBUG:backtest:Generating signals for data shape: (271, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.55)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-06-09 (day 272, history: 272)
DEBUG:backtest:Filtered data for 2023-06-09: 272 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 272 data points
DEBUG:backtest:Generating signals for data shape: (272, 9)
INFO:core.feature_reweighter:Re-weighted 11 features for chop regime
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-06-12 (day 273, history: 273)
DEBUG:backtest:Filtered data for 2023-06-12: 273 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 273 data points
DEBUG:backtest:Generating signals for data shape: (273, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-06-13 (day 274, history: 274)
DEBUG:backtest:Filtered data for 2023-06-13: 274 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 274 data points
DEBUG:backtest:Generating signals for data shape: (274, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-06-14 (day 275, history: 275)
DEBUG:backtest:Filtered data for 2023-06-14: 275 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 275 data points
DEBUG:backtest:Generating signals for data shape: (275, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-06-15 (day 276, history: 276)
DEBUG:backtest:Filtered data for 2023-06-15: 276 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
DEBUG:backtest:Processing SPY with 276 data points
DEBUG:backtest:Generating signals for data shape: (276, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.55)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-06-16 (day 277, history: 277)
DEBUG:backtest:Filtered data for 2023-06-16: 277 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
DEBUG:backtest:Processing SPY with 277 data points
DEBUG:backtest:Generating signals for data shape: (277, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.55)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-06-20 (day 278, history: 278)
DEBUG:backtest:Filtered data for 2023-06-20: 278 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 278 data points
DEBUG:backtest:Generating signals for data shape: (278, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-06-21 (day 279, history: 279)
DEBUG:backtest:Filtered data for 2023-06-21: 279 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 279 data points
DEBUG:backtest:Generating signals for data shape: (279, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-06-22 (day 280, history: 280)
DEBUG:backtest:Filtered data for 2023-06-22: 280 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 280 data points
DEBUG:backtest:Generating signals for data shape: (280, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-06-23 (day 281, history: 281)
DEBUG:backtest:Filtered data for 2023-06-23: 281 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 281 data points
DEBUG:backtest:Generating signals for data shape: (281, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-06-26 (day 282, history: 282)
DEBUG:backtest:Filtered data for 2023-06-26: 282 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.73)
DEBUG:backtest:Processing SPY with 282 data points
DEBUG:backtest:Generating signals for data shape: (282, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.73)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.73)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-06-27 (day 283, history: 283)
DEBUG:backtest:Filtered data for 2023-06-27: 283 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 283 data points
DEBUG:backtest:Generating signals for data shape: (283, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-06-28 (day 284, history: 284)
DEBUG:backtest:Filtered data for 2023-06-28: 284 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 284 data points
DEBUG:backtest:Generating signals for data shape: (284, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-06-29 (day 285, history: 285)
DEBUG:backtest:Filtered data for 2023-06-29: 285 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 285 data points
DEBUG:backtest:Generating signals for data shape: (285, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-06-30 (day 286, history: 286)
DEBUG:backtest:Filtered data for 2023-06-30: 286 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
DEBUG:backtest:Processing SPY with 286 data points
DEBUG:backtest:Generating signals for data shape: (286, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.55)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-07-03 (day 287, history: 287)
DEBUG:backtest:Filtered data for 2023-07-03: 287 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
DEBUG:backtest:Processing SPY with 287 data points
DEBUG:backtest:Generating signals for data shape: (287, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.55)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-07-05 (day 288, history: 288)
DEBUG:backtest:Filtered data for 2023-07-05: 288 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
DEBUG:backtest:Processing SPY with 288 data points
DEBUG:backtest:Generating signals for data shape: (288, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.55)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-07-06 (day 289, history: 289)
DEBUG:backtest:Filtered data for 2023-07-06: 289 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 289 data points
DEBUG:backtest:Generating signals for data shape: (289, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-07-07 (day 290, history: 290)
DEBUG:backtest:Filtered data for 2023-07-07: 290 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.73)
DEBUG:backtest:Processing SPY with 290 data points
DEBUG:backtest:Generating signals for data shape: (290, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.73)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.73)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-07-10 (day 291, history: 291)
DEBUG:backtest:Filtered data for 2023-07-10: 291 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.67)
DEBUG:backtest:Processing SPY with 291 data points
DEBUG:backtest:Generating signals for data shape: (291, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.67)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.67)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-07-11 (day 292, history: 292)
DEBUG:backtest:Filtered data for 2023-07-11: 292 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.73)
DEBUG:backtest:Processing SPY with 292 data points
DEBUG:backtest:Generating signals for data shape: (292, 9)
INFO:core.feature_reweighter:Re-weighted 11 features for chop regime
INFO:core.regime_detector:Detected regime: chop (confidence: 0.73)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.73)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-07-12 (day 293, history: 293)
DEBUG:backtest:Filtered data for 2023-07-12: 293 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.73)
DEBUG:backtest:Processing SPY with 293 data points
DEBUG:backtest:Generating signals for data shape: (293, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.73)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.73)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-07-13 (day 294, history: 294)
DEBUG:backtest:Filtered data for 2023-07-13: 294 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.73)
DEBUG:backtest:Processing SPY with 294 data points
DEBUG:backtest:Generating signals for data shape: (294, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.73)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.73)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-07-14 (day 295, history: 295)
DEBUG:backtest:Filtered data for 2023-07-14: 295 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.73)
DEBUG:backtest:Processing SPY with 295 data points
DEBUG:backtest:Generating signals for data shape: (295, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.73)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.73)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-07-17 (day 296, history: 296)
DEBUG:backtest:Filtered data for 2023-07-17: 296 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.67)
DEBUG:backtest:Processing SPY with 296 data points
DEBUG:backtest:Generating signals for data shape: (296, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.67)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.67)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-07-18 (day 297, history: 297)
DEBUG:backtest:Filtered data for 2023-07-18: 297 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 297 data points
DEBUG:backtest:Generating signals for data shape: (297, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-07-19 (day 298, history: 298)
DEBUG:backtest:Filtered data for 2023-07-19: 298 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 298 data points
DEBUG:backtest:Generating signals for data shape: (298, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-07-20 (day 299, history: 299)
DEBUG:backtest:Filtered data for 2023-07-20: 299 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 299 data points
DEBUG:backtest:Generating signals for data shape: (299, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-07-21 (day 300, history: 300)
DEBUG:backtest:Filtered data for 2023-07-21: 300 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 300 data points
DEBUG:backtest:Generating signals for data shape: (300, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-07-24 (day 301, history: 301)
DEBUG:backtest:Filtered data for 2023-07-24: 301 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
DEBUG:backtest:Processing SPY with 301 data points
DEBUG:backtest:Generating signals for data shape: (301, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.55)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-07-25 (day 302, history: 302)
DEBUG:backtest:Filtered data for 2023-07-25: 302 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
DEBUG:backtest:Processing SPY with 302 data points
DEBUG:backtest:Generating signals for data shape: (302, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.55)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-07-26 (day 303, history: 303)
DEBUG:backtest:Filtered data for 2023-07-26: 303 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 303 data points
DEBUG:backtest:Generating signals for data shape: (303, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-07-27 (day 304, history: 304)
DEBUG:backtest:Filtered data for 2023-07-27: 304 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
DEBUG:backtest:Processing SPY with 304 data points
DEBUG:backtest:Generating signals for data shape: (304, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.55)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-07-28 (day 305, history: 305)
DEBUG:backtest:Filtered data for 2023-07-28: 305 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 305 data points
DEBUG:backtest:Generating signals for data shape: (305, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-07-31 (day 306, history: 306)
DEBUG:backtest:Filtered data for 2023-07-31: 306 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 306 data points
DEBUG:backtest:Generating signals for data shape: (306, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-08-01 (day 307, history: 307)
DEBUG:backtest:Filtered data for 2023-08-01: 307 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
DEBUG:backtest:Processing SPY with 307 data points
DEBUG:backtest:Generating signals for data shape: (307, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.55)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-08-02 (day 308, history: 308)
DEBUG:backtest:Filtered data for 2023-08-02: 308 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.67)
DEBUG:backtest:Processing SPY with 308 data points
DEBUG:backtest:Generating signals for data shape: (308, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.67)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.67)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-08-03 (day 309, history: 309)
DEBUG:backtest:Filtered data for 2023-08-03: 309 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.73)
DEBUG:backtest:Processing SPY with 309 data points
DEBUG:backtest:Generating signals for data shape: (309, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.73)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.73)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-08-04 (day 310, history: 310)
DEBUG:backtest:Filtered data for 2023-08-04: 310 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.67)
DEBUG:backtest:Processing SPY with 310 data points
DEBUG:backtest:Generating signals for data shape: (310, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.67)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.67)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-08-07 (day 311, history: 311)
DEBUG:backtest:Filtered data for 2023-08-07: 311 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.73)
DEBUG:backtest:Processing SPY with 311 data points
DEBUG:backtest:Generating signals for data shape: (311, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.73)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.73)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-08-08 (day 312, history: 312)
DEBUG:backtest:Filtered data for 2023-08-08: 312 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 312 data points
DEBUG:backtest:Generating signals for data shape: (312, 9)
INFO:core.feature_reweighter:Re-weighted 11 features for chop regime
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-08-09 (day 313, history: 313)
DEBUG:backtest:Filtered data for 2023-08-09: 313 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 313 data points
DEBUG:backtest:Generating signals for data shape: (313, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-08-10 (day 314, history: 314)
DEBUG:backtest:Filtered data for 2023-08-10: 314 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
DEBUG:backtest:Processing SPY with 314 data points
DEBUG:backtest:Generating signals for data shape: (314, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.55)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-08-11 (day 315, history: 315)
DEBUG:backtest:Filtered data for 2023-08-11: 315 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 315 data points
DEBUG:backtest:Generating signals for data shape: (315, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-08-14 (day 316, history: 316)
DEBUG:backtest:Filtered data for 2023-08-14: 316 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
DEBUG:backtest:Processing SPY with 316 data points
DEBUG:backtest:Generating signals for data shape: (316, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.55)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-08-15 (day 317, history: 317)
DEBUG:backtest:Filtered data for 2023-08-15: 317 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 317 data points
DEBUG:backtest:Generating signals for data shape: (317, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-08-16 (day 318, history: 318)
DEBUG:backtest:Filtered data for 2023-08-16: 318 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 318 data points
DEBUG:backtest:Generating signals for data shape: (318, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-08-17 (day 319, history: 319)
DEBUG:backtest:Filtered data for 2023-08-17: 319 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
DEBUG:backtest:Processing SPY with 319 data points
DEBUG:backtest:Generating signals for data shape: (319, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.50)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-08-18 (day 320, history: 320)
DEBUG:backtest:Filtered data for 2023-08-18: 320 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
DEBUG:backtest:Processing SPY with 320 data points
DEBUG:backtest:Generating signals for data shape: (320, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.50)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-08-21 (day 321, history: 321)
DEBUG:backtest:Filtered data for 2023-08-21: 321 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.44)
DEBUG:backtest:Processing SPY with 321 data points
DEBUG:backtest:Generating signals for data shape: (321, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.44)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.44)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-08-22 (day 322, history: 322)
DEBUG:backtest:Filtered data for 2023-08-22: 322 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.44)
DEBUG:backtest:Processing SPY with 322 data points
DEBUG:backtest:Generating signals for data shape: (322, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.44)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.44)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-08-23 (day 323, history: 323)
DEBUG:backtest:Filtered data for 2023-08-23: 323 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 323 data points
DEBUG:backtest:Generating signals for data shape: (323, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-08-24 (day 324, history: 324)
DEBUG:backtest:Filtered data for 2023-08-24: 324 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.44)
DEBUG:backtest:Processing SPY with 324 data points
DEBUG:backtest:Generating signals for data shape: (324, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.44)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.44)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-08-25 (day 325, history: 325)
DEBUG:backtest:Filtered data for 2023-08-25: 325 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
DEBUG:backtest:Processing SPY with 325 data points
DEBUG:backtest:Generating signals for data shape: (325, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.50)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-08-28 (day 326, history: 326)
DEBUG:backtest:Filtered data for 2023-08-28: 326 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 326 data points
DEBUG:backtest:Generating signals for data shape: (326, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-08-29 (day 327, history: 327)
DEBUG:backtest:Filtered data for 2023-08-29: 327 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 327 data points
DEBUG:backtest:Generating signals for data shape: (327, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-08-30 (day 328, history: 328)
DEBUG:backtest:Filtered data for 2023-08-30: 328 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 328 data points
DEBUG:backtest:Generating signals for data shape: (328, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-08-31 (day 329, history: 329)
DEBUG:backtest:Filtered data for 2023-08-31: 329 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 329 data points
DEBUG:backtest:Generating signals for data shape: (329, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-09-01 (day 330, history: 330)
DEBUG:backtest:Filtered data for 2023-09-01: 330 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
DEBUG:backtest:Processing SPY with 330 data points
DEBUG:backtest:Generating signals for data shape: (330, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.55)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-09-05 (day 331, history: 331)
DEBUG:backtest:Filtered data for 2023-09-05: 331 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
DEBUG:backtest:Processing SPY with 331 data points
DEBUG:backtest:Generating signals for data shape: (331, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.55)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-09-06 (day 332, history: 332)
DEBUG:backtest:Filtered data for 2023-09-06: 332 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.89)
DEBUG:backtest:Processing SPY with 332 data points
DEBUG:backtest:Generating signals for data shape: (332, 9)
INFO:core.feature_reweighter:Re-weighted 11 features for chop regime
INFO:core.regime_detector:Detected regime: chop (confidence: 0.89)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.89)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-09-07 (day 333, history: 333)
DEBUG:backtest:Filtered data for 2023-09-07: 333 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.89)
DEBUG:backtest:Processing SPY with 333 data points
DEBUG:backtest:Generating signals for data shape: (333, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.89)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.89)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-09-08 (day 334, history: 334)
DEBUG:backtest:Filtered data for 2023-09-08: 334 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.90)
DEBUG:backtest:Processing SPY with 334 data points
DEBUG:backtest:Generating signals for data shape: (334, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.90)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.90)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-09-11 (day 335, history: 335)
DEBUG:backtest:Filtered data for 2023-09-11: 335 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.90)
DEBUG:backtest:Processing SPY with 335 data points
DEBUG:backtest:Generating signals for data shape: (335, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.90)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.90)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-09-12 (day 336, history: 336)
DEBUG:backtest:Filtered data for 2023-09-12: 336 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.90)
DEBUG:backtest:Processing SPY with 336 data points
DEBUG:backtest:Generating signals for data shape: (336, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.90)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.90)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-09-13 (day 337, history: 337)
DEBUG:backtest:Filtered data for 2023-09-13: 337 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 1.00)
DEBUG:backtest:Processing SPY with 337 data points
DEBUG:backtest:Generating signals for data shape: (337, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 1.00)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 1.00)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-09-14 (day 338, history: 338)
DEBUG:backtest:Filtered data for 2023-09-14: 338 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 1.00)
DEBUG:backtest:Processing SPY with 338 data points
DEBUG:backtest:Generating signals for data shape: (338, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 1.00)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 1.00)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-09-15 (day 339, history: 339)
DEBUG:backtest:Filtered data for 2023-09-15: 339 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.92)
DEBUG:backtest:Processing SPY with 339 data points
DEBUG:backtest:Generating signals for data shape: (339, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.92)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.92)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-09-18 (day 340, history: 340)
DEBUG:backtest:Filtered data for 2023-09-18: 340 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.92)
DEBUG:backtest:Processing SPY with 340 data points
DEBUG:backtest:Generating signals for data shape: (340, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.92)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.92)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-09-19 (day 341, history: 341)
DEBUG:backtest:Filtered data for 2023-09-19: 341 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 1.00)
DEBUG:backtest:Processing SPY with 341 data points
DEBUG:backtest:Generating signals for data shape: (341, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 1.00)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 1.00)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-09-20 (day 342, history: 342)
DEBUG:backtest:Filtered data for 2023-09-20: 342 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 1.00)
DEBUG:backtest:Processing SPY with 342 data points
DEBUG:backtest:Generating signals for data shape: (342, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 1.00)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 1.00)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-09-21 (day 343, history: 343)
DEBUG:backtest:Filtered data for 2023-09-21: 343 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.80)
DEBUG:backtest:Processing SPY with 343 data points
DEBUG:backtest:Generating signals for data shape: (343, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.80)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.80)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-09-22 (day 344, history: 344)
DEBUG:backtest:Filtered data for 2023-09-22: 344 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.80)
DEBUG:backtest:Processing SPY with 344 data points
DEBUG:backtest:Generating signals for data shape: (344, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.80)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.80)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-09-25 (day 345, history: 345)
DEBUG:backtest:Filtered data for 2023-09-25: 345 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 345 data points
DEBUG:backtest:Generating signals for data shape: (345, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-09-26 (day 346, history: 346)
DEBUG:backtest:Filtered data for 2023-09-26: 346 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
DEBUG:backtest:Processing SPY with 346 data points
DEBUG:backtest:Generating signals for data shape: (346, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.50)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-09-27 (day 347, history: 347)
DEBUG:backtest:Filtered data for 2023-09-27: 347 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
DEBUG:backtest:Processing SPY with 347 data points
DEBUG:backtest:Generating signals for data shape: (347, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.50)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-09-28 (day 348, history: 348)
DEBUG:backtest:Filtered data for 2023-09-28: 348 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.44)
DEBUG:backtest:Processing SPY with 348 data points
DEBUG:backtest:Generating signals for data shape: (348, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.44)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.44)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-09-29 (day 349, history: 349)
DEBUG:backtest:Filtered data for 2023-09-29: 349 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
DEBUG:backtest:Processing SPY with 349 data points
DEBUG:backtest:Generating signals for data shape: (349, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.50)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-10-02 (day 350, history: 350)
DEBUG:backtest:Filtered data for 2023-10-02: 350 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.44)
DEBUG:backtest:Processing SPY with 350 data points
DEBUG:backtest:Generating signals for data shape: (350, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.44)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.44)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-10-03 (day 351, history: 351)
DEBUG:backtest:Filtered data for 2023-10-03: 351 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
DEBUG:backtest:Processing SPY with 351 data points
DEBUG:backtest:Generating signals for data shape: (351, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.50)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-10-04 (day 352, history: 352)
DEBUG:backtest:Filtered data for 2023-10-04: 352 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.44)
DEBUG:backtest:Processing SPY with 352 data points
DEBUG:backtest:Generating signals for data shape: (352, 9)
INFO:core.feature_reweighter:Re-weighted 11 features for trend regime
INFO:core.regime_detector:Detected regime: trend (confidence: 0.44)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.44)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-10-05 (day 353, history: 353)
DEBUG:backtest:Filtered data for 2023-10-05: 353 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.44)
DEBUG:backtest:Processing SPY with 353 data points
DEBUG:backtest:Generating signals for data shape: (353, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.44)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.44)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-10-06 (day 354, history: 354)
DEBUG:backtest:Filtered data for 2023-10-06: 354 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
DEBUG:backtest:Processing SPY with 354 data points
DEBUG:backtest:Generating signals for data shape: (354, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.50)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-10-09 (day 355, history: 355)
DEBUG:backtest:Filtered data for 2023-10-09: 355 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 355 data points
DEBUG:backtest:Generating signals for data shape: (355, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-10-10 (day 356, history: 356)
DEBUG:backtest:Filtered data for 2023-10-10: 356 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 356 data points
DEBUG:backtest:Generating signals for data shape: (356, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-10-11 (day 357, history: 357)
DEBUG:backtest:Filtered data for 2023-10-11: 357 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
DEBUG:backtest:Processing SPY with 357 data points
DEBUG:backtest:Generating signals for data shape: (357, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.50)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-10-12 (day 358, history: 358)
DEBUG:backtest:Filtered data for 2023-10-12: 358 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 358 data points
DEBUG:backtest:Generating signals for data shape: (358, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-10-13 (day 359, history: 359)
DEBUG:backtest:Filtered data for 2023-10-13: 359 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 359 data points
DEBUG:backtest:Generating signals for data shape: (359, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-10-16 (day 360, history: 360)
DEBUG:backtest:Filtered data for 2023-10-16: 360 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 360 data points
DEBUG:backtest:Generating signals for data shape: (360, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-10-17 (day 361, history: 361)
DEBUG:backtest:Filtered data for 2023-10-17: 361 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
DEBUG:backtest:Processing SPY with 361 data points
DEBUG:backtest:Generating signals for data shape: (361, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.56)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-10-18 (day 362, history: 362)
DEBUG:backtest:Filtered data for 2023-10-18: 362 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
DEBUG:backtest:Processing SPY with 362 data points
DEBUG:backtest:Generating signals for data shape: (362, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.56)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-10-19 (day 363, history: 363)
DEBUG:backtest:Filtered data for 2023-10-19: 363 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
DEBUG:backtest:Processing SPY with 363 data points
DEBUG:backtest:Generating signals for data shape: (363, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.55)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-10-20 (day 364, history: 364)
DEBUG:backtest:Filtered data for 2023-10-20: 364 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.60)
DEBUG:backtest:Processing SPY with 364 data points
DEBUG:backtest:Generating signals for data shape: (364, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-10-23 (day 365, history: 365)
DEBUG:backtest:Filtered data for 2023-10-23: 365 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
DEBUG:backtest:Processing SPY with 365 data points
DEBUG:backtest:Generating signals for data shape: (365, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.56)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-10-24 (day 366, history: 366)
DEBUG:backtest:Filtered data for 2023-10-24: 366 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.89)
DEBUG:backtest:Processing SPY with 366 data points
DEBUG:backtest:Generating signals for data shape: (366, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.89)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.89)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-10-25 (day 367, history: 367)
DEBUG:backtest:Filtered data for 2023-10-25: 367 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.78)
DEBUG:backtest:Processing SPY with 367 data points
DEBUG:backtest:Generating signals for data shape: (367, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.78)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.78)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-10-26 (day 368, history: 368)
DEBUG:backtest:Filtered data for 2023-10-26: 368 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.70)
DEBUG:backtest:Processing SPY with 368 data points
DEBUG:backtest:Generating signals for data shape: (368, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.70)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.70)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-10-27 (day 369, history: 369)
DEBUG:backtest:Filtered data for 2023-10-27: 369 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.75)
DEBUG:backtest:Processing SPY with 369 data points
DEBUG:backtest:Generating signals for data shape: (369, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.75)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.75)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-10-30 (day 370, history: 370)
DEBUG:backtest:Filtered data for 2023-10-30: 370 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
DEBUG:backtest:Processing SPY with 370 data points
DEBUG:backtest:Generating signals for data shape: (370, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.56)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-10-31 (day 371, history: 371)
DEBUG:backtest:Filtered data for 2023-10-31: 371 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
DEBUG:backtest:Processing SPY with 371 data points
DEBUG:backtest:Generating signals for data shape: (371, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.56)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-11-01 (day 372, history: 372)
DEBUG:backtest:Filtered data for 2023-11-01: 372 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
DEBUG:backtest:Processing SPY with 372 data points
DEBUG:backtest:Generating signals for data shape: (372, 9)
INFO:core.feature_reweighter:Re-weighted 11 features for trend regime
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.56)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-11-02 (day 373, history: 373)
DEBUG:backtest:Filtered data for 2023-11-02: 373 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
DEBUG:backtest:Processing SPY with 373 data points
DEBUG:backtest:Generating signals for data shape: (373, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.56)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-11-03 (day 374, history: 374)
DEBUG:backtest:Filtered data for 2023-11-03: 374 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
DEBUG:backtest:Processing SPY with 374 data points
DEBUG:backtest:Generating signals for data shape: (374, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.56)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-11-06 (day 375, history: 375)
DEBUG:backtest:Filtered data for 2023-11-06: 375 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
DEBUG:backtest:Processing SPY with 375 data points
DEBUG:backtest:Generating signals for data shape: (375, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.50)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-11-07 (day 376, history: 376)
DEBUG:backtest:Filtered data for 2023-11-07: 376 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
DEBUG:backtest:Processing SPY with 376 data points
DEBUG:backtest:Generating signals for data shape: (376, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.50)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-11-08 (day 377, history: 377)
DEBUG:backtest:Filtered data for 2023-11-08: 377 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
DEBUG:backtest:Processing SPY with 377 data points
DEBUG:backtest:Generating signals for data shape: (377, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.50)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-11-09 (day 378, history: 378)
DEBUG:backtest:Filtered data for 2023-11-09: 378 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
DEBUG:backtest:Processing SPY with 378 data points
DEBUG:backtest:Generating signals for data shape: (378, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.56)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-11-10 (day 379, history: 379)
DEBUG:backtest:Filtered data for 2023-11-10: 379 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
DEBUG:backtest:Processing SPY with 379 data points
DEBUG:backtest:Generating signals for data shape: (379, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.56)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-11-13 (day 380, history: 380)
DEBUG:backtest:Filtered data for 2023-11-13: 380 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
DEBUG:backtest:Processing SPY with 380 data points
DEBUG:backtest:Generating signals for data shape: (380, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.50)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-11-14 (day 381, history: 381)
DEBUG:backtest:Filtered data for 2023-11-14: 381 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
DEBUG:backtest:Processing SPY with 381 data points
DEBUG:backtest:Generating signals for data shape: (381, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.56)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-11-15 (day 382, history: 382)
DEBUG:backtest:Filtered data for 2023-11-15: 382 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.62)
DEBUG:backtest:Processing SPY with 382 data points
DEBUG:backtest:Generating signals for data shape: (382, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.62)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.62)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-11-16 (day 383, history: 383)
DEBUG:backtest:Filtered data for 2023-11-16: 383 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
DEBUG:backtest:Processing SPY with 383 data points
DEBUG:backtest:Generating signals for data shape: (383, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.56)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-11-17 (day 384, history: 384)
DEBUG:backtest:Filtered data for 2023-11-17: 384 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.62)
DEBUG:backtest:Processing SPY with 384 data points
DEBUG:backtest:Generating signals for data shape: (384, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.62)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.62)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-11-20 (day 385, history: 385)
DEBUG:backtest:Filtered data for 2023-11-20: 385 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.62)
DEBUG:backtest:Processing SPY with 385 data points
DEBUG:backtest:Generating signals for data shape: (385, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.62)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.62)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-11-21 (day 386, history: 386)
DEBUG:backtest:Filtered data for 2023-11-21: 386 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
DEBUG:backtest:Processing SPY with 386 data points
DEBUG:backtest:Generating signals for data shape: (386, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.56)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.56)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-11-22 (day 387, history: 387)
DEBUG:backtest:Filtered data for 2023-11-22: 387 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.70)
DEBUG:backtest:Processing SPY with 387 data points
DEBUG:backtest:Generating signals for data shape: (387, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.70)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.70)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-11-24 (day 388, history: 388)
DEBUG:backtest:Filtered data for 2023-11-24: 388 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.70)
DEBUG:backtest:Processing SPY with 388 data points
DEBUG:backtest:Generating signals for data shape: (388, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.70)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.70)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-11-27 (day 389, history: 389)
DEBUG:backtest:Filtered data for 2023-11-27: 389 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.70)
DEBUG:backtest:Processing SPY with 389 data points
DEBUG:backtest:Generating signals for data shape: (389, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.70)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.70)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-11-28 (day 390, history: 390)
DEBUG:backtest:Filtered data for 2023-11-28: 390 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.60)
DEBUG:backtest:Processing SPY with 390 data points
DEBUG:backtest:Generating signals for data shape: (390, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-11-29 (day 391, history: 391)
DEBUG:backtest:Filtered data for 2023-11-29: 391 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.78)
DEBUG:backtest:Processing SPY with 391 data points
DEBUG:backtest:Generating signals for data shape: (391, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.78)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.78)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-11-30 (day 392, history: 392)
DEBUG:backtest:Filtered data for 2023-11-30: 392 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 392 data points
DEBUG:backtest:Generating signals for data shape: (392, 9)
INFO:core.feature_reweighter:Re-weighted 11 features for chop regime
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-12-01 (day 393, history: 393)
DEBUG:backtest:Filtered data for 2023-12-01: 393 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
DEBUG:backtest:Processing SPY with 393 data points
DEBUG:backtest:Generating signals for data shape: (393, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.50)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-12-04 (day 394, history: 394)
DEBUG:backtest:Filtered data for 2023-12-04: 394 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 394 data points
DEBUG:backtest:Generating signals for data shape: (394, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-12-05 (day 395, history: 395)
DEBUG:backtest:Filtered data for 2023-12-05: 395 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 395 data points
DEBUG:backtest:Generating signals for data shape: (395, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-12-06 (day 396, history: 396)
DEBUG:backtest:Filtered data for 2023-12-06: 396 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 396 data points
DEBUG:backtest:Generating signals for data shape: (396, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-12-07 (day 397, history: 397)
DEBUG:backtest:Filtered data for 2023-12-07: 397 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 397 data points
DEBUG:backtest:Generating signals for data shape: (397, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-12-08 (day 398, history: 398)
DEBUG:backtest:Filtered data for 2023-12-08: 398 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
DEBUG:backtest:Processing SPY with 398 data points
DEBUG:backtest:Generating signals for data shape: (398, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.55)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-12-11 (day 399, history: 399)
DEBUG:backtest:Filtered data for 2023-12-11: 399 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
DEBUG:backtest:Processing SPY with 399 data points
DEBUG:backtest:Generating signals for data shape: (399, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.55)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-12-12 (day 400, history: 400)
DEBUG:backtest:Filtered data for 2023-12-12: 400 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 400 data points
DEBUG:backtest:Generating signals for data shape: (400, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2023-12-13 (day 401, history: 401)
DEBUG:backtest:Filtered data for 2023-12-13: 401 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
DEBUG:backtest:Processing SPY with 401 data points
DEBUG:backtest:Generating signals for data shape: (401, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.50)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-12-14 (day 402, history: 402)
DEBUG:backtest:Filtered data for 2023-12-14: 402 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.64)
DEBUG:backtest:Processing SPY with 402 data points
DEBUG:backtest:Generating signals for data shape: (402, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.64)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.64)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-12-15 (day 403, history: 403)
DEBUG:backtest:Filtered data for 2023-12-15: 403 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
DEBUG:backtest:Processing SPY with 403 data points
DEBUG:backtest:Generating signals for data shape: (403, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.50)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-12-18 (day 404, history: 404)
DEBUG:backtest:Filtered data for 2023-12-18: 404 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.44)
DEBUG:backtest:Processing SPY with 404 data points
DEBUG:backtest:Generating signals for data shape: (404, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.44)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.44)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-12-19 (day 405, history: 405)
DEBUG:backtest:Filtered data for 2023-12-19: 405 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.55)
DEBUG:backtest:Processing SPY with 405 data points
DEBUG:backtest:Generating signals for data shape: (405, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.55)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.55)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-12-20 (day 406, history: 406)
DEBUG:backtest:Filtered data for 2023-12-20: 406 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
DEBUG:backtest:Processing SPY with 406 data points
DEBUG:backtest:Generating signals for data shape: (406, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.50)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-12-21 (day 407, history: 407)
DEBUG:backtest:Filtered data for 2023-12-21: 407 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.44)
DEBUG:backtest:Processing SPY with 407 data points
DEBUG:backtest:Generating signals for data shape: (407, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.44)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.44)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-12-22 (day 408, history: 408)
DEBUG:backtest:Filtered data for 2023-12-22: 408 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.44)
DEBUG:backtest:Processing SPY with 408 data points
DEBUG:backtest:Generating signals for data shape: (408, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.44)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.44)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-12-26 (day 409, history: 409)
DEBUG:backtest:Filtered data for 2023-12-26: 409 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.40)
DEBUG:backtest:Processing SPY with 409 data points
DEBUG:backtest:Generating signals for data shape: (409, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.40)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.40)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-12-27 (day 410, history: 410)
DEBUG:backtest:Filtered data for 2023-12-27: 410 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.44)
DEBUG:backtest:Processing SPY with 410 data points
DEBUG:backtest:Generating signals for data shape: (410, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.44)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.44)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-12-28 (day 411, history: 411)
DEBUG:backtest:Filtered data for 2023-12-28: 411 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.44)
DEBUG:backtest:Processing SPY with 411 data points
DEBUG:backtest:Generating signals for data shape: (411, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.44)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.44)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2023-12-29 (day 412, history: 412)
DEBUG:backtest:Filtered data for 2023-12-29: 412 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
DEBUG:backtest:Processing SPY with 412 data points
DEBUG:backtest:Generating signals for data shape: (412, 9)
INFO:core.feature_reweighter:Re-weighted 11 features for trend regime
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.50)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2024-01-02 (day 413, history: 413)
DEBUG:backtest:Filtered data for 2024-01-02: 413 rows (from 416 total)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
DEBUG:backtest:Processing SPY with 413 data points
DEBUG:backtest:Generating signals for data shape: (413, 9)
INFO:core.regime_detector:Detected regime: trend (confidence: 0.50)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.5478101113168136), 'momentum_5': np.float64(-0.1976885243978917), 'momentum_10': np.float64(-0.12878171529836935), 'trend_strength': np.float64(0.00035401766141541157), 'trend_consistency': np.float64(-0.12536563132550993)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.626
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.4626634579131717), 'rsi': np.float64(-0.27064103099237585), 'bb_position': np.float64(-0.06619706604554783), 'zscore': np.float64(-0.20049844504890457), 'mean_reversion_strength': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.584
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.10125719114702852), 'breakout_strength': np.float64(-0.351891299427459), 'resistance_break': np.float64(-0.351891299427459), 'support_break': np.float64(-0.19496020999805358)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.554
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for trend regime (confidence: 0.50)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-1.0)}
DEBUG:backtest:Trade analysis for SPY: signal=-1.000, strength=1.000, threshold=0.300
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.375
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-81.64, portfolio_value=$99982.50
WARNING:core.portfolio:Cannot sell 43.534917644844846 of SPY - only -38.10555632490834 available
INFO:core.trade_logger:SELL: SPY 43.534917644844846 @ $459.25, Realized: $-0.00
INFO:backtest:Trade: SELL 43.53 SPY @ $459.25, PnL: $0.00
DEBUG:backtest:Running daily trading for 2024-01-03 (day 414, history: 414)
DEBUG:backtest:Filtered data for 2024-01-03: 414 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
DEBUG:backtest:Processing SPY with 414 data points
DEBUG:backtest:Generating signals for data shape: (414, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.55)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.55)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2024-01-04 (day 415, history: 415)
DEBUG:backtest:Filtered data for 2024-01-04: 415 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 415 data points
DEBUG:backtest:Generating signals for data shape: (415, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
DEBUG:backtest:Running daily trading for 2024-01-05 (day 416, history: 416)
DEBUG:backtest:Filtered data for 2024-01-05: 416 rows (from 416 total)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
DEBUG:backtest:Processing SPY with 416 data points
DEBUG:backtest:Generating signals for data shape: (416, 9)
INFO:core.regime_detector:Detected regime: chop (confidence: 0.60)
INFO:features.ensemble:Added feature 'ma_crossover' with 253 observations
INFO:features.ensemble:Added feature 'momentum_5' with 253 observations
INFO:features.ensemble:Added feature 'momentum_10' with 253 observations
INFO:features.ensemble:Added feature 'trend_strength' with 253 observations
INFO:features.ensemble:Added feature 'trend_consistency' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_crossover': np.float64(-0.3913484110956567), 'momentum_5': np.float64(-0.3134667916375023), 'momentum_10': np.float64(-0.20420401861517767), 'trend_strength': np.float64(-0.09098077865166353), 'trend_consistency': np.float64(0.0)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.373
INFO:features.ensemble:Added feature 'ma_distance' with 253 observations
INFO:features.ensemble:Added feature 'rsi' with 253 observations
INFO:features.ensemble:Added feature 'bb_position' with 253 observations
INFO:features.ensemble:Added feature 'zscore' with 253 observations
INFO:features.ensemble:Added feature 'mean_reversion_strength' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'ma_distance': np.float64(-0.28143668778123193), 'rsi': np.float64(-0.22098308398142863), 'bb_position': np.float64(-0.13835761449915548), 'zscore': np.float64(-0.12358364607358498), 'mean_reversion_strength': np.float64(-0.23563896766459905)}
INFO:features.ensemble:Combined 5 features into signal with mean confidence 0.627
INFO:features.ensemble:Added feature 'donchian_position' with 253 observations
INFO:features.ensemble:Added feature 'breakout_strength' with 253 observations
INFO:features.ensemble:Added feature 'resistance_break' with 253 observations
INFO:features.ensemble:Added feature 'support_break' with 253 observations
INFO:features.ensemble:Computed weights using rolling_ic: {'donchian_position': np.float64(-0.1518868875296161), 'breakout_strength': np.float64(-0.34563791702387336), 'resistance_break': np.float64(-0.34563791702387336), 'support_break': np.float64(-0.15683727842263714)}
INFO:features.ensemble:Combined 4 features into signal with mean confidence 0.543
INFO:strategies.regime_aware_ensemble:Generated regime-aware signals for chop regime (confidence: 0.60)
DEBUG:backtest:Generated signals: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Signals for SPY: {'regime_ensemble': np.float64(-0.86362891898195)}
DEBUG:backtest:Trade analysis for SPY: signal=-0.864, strength=0.864, threshold=0.500
DEBUG:backtest:Shorting enabled: True
DEBUG:backtest:Allowing short position for SPY (shorting enabled)
DEBUG:backtest:Final target_position: -0.175
DEBUG:backtest:Position calculation: current_qty=-38.11, target_qty=-38.10, portfolio_value=$99982.50
DEBUG:backtest:No trade: qty_change=0.0067 below minimum threshold
ðŸš€ Starting backtest: 2024-01-01 to 2024-01-05
ðŸ“Š Symbols: ['SPY']
ðŸ’° Initial Capital: $100,000.00
============================================================
ðŸ“Š Loading data with warmup period...
ðŸ“Š Combined data shape: (416, 9)
ðŸ“Š Combined data index type: <class 'pandas.core.indexes.datetimes.DatetimeIndex'>
ðŸ“Š Loaded 416 data points
ðŸ“Š Data columns: ['Open', 'High', 'Low', 'Close', 'Volume', 'Dividends', 'Stock Splits', 'Capital Gains', 'Symbol']
ðŸ“Š Data shape: (416, 9)
ðŸ“Š Found 416 unique dates in data
ðŸ“Š Date range: 2022-05-11 to 2024-01-05
ðŸ“Š Using all 416 trading dates (including warmup)
ðŸ“… Total trading days (including warmup): 416
ðŸ“… Warmup days: 412
ðŸ“ˆ Processing day 1/416: 2022-05-11
ðŸ“ˆ Processing day 51/416: 2022-07-25
ðŸ“ˆ Processing day 101/416: 2022-10-04
ðŸ“ˆ Processing day 151/416: 2022-12-14
ðŸ“ˆ Processing day 201/416: 2023-02-28
ðŸ“ˆ Processing day 251/416: 2023-05-10
ðŸ“ˆ Processing day 301/416: 2023-07-24
ðŸ“ˆ Processing day 351/416: 2023-10-03
ðŸ“ˆ Processing day 401/416: 2023-12-13
ðŸ“Š Performance calculation: 4 days in backtest period
âœ… Backtest results saved to results/backtest
