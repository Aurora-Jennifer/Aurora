Metadata-Version: 2.4
Name: trading-system
Version: 0.1.0
Summary: Enhanced trading system with regime detection and IBKR integration
Author: Trading System Team
License: MIT
Keywords: trading,algorithmic,ibkr,regime-detection
Classifier: Development Status :: 4 - Beta
Classifier: Intended Audience :: Financial and Insurance Industry
Classifier: License :: OSI Approved :: MIT License
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Classifier: Programming Language :: Python :: 3.12
Classifier: Programming Language :: Python :: 3.13
Requires-Python: >=3.8
Description-Content-Type: text/markdown
Requires-Dist: pandas>=1.5.0
Requires-Dist: numpy>=1.21.0
Requires-Dist: yfinance>=0.2.0
Requires-Dist: ib_insync>=0.9.85
Requires-Dist: scikit-learn>=1.0.0
Requires-Dist: matplotlib>=3.5.0
Requires-Dist: seaborn>=0.11.0
Requires-Dist: schedule>=1.2.0
Requires-Dist: flask>=2.0.0
Requires-Dist: plotly>=5.0.0
Requires-Dist: dash>=2.0.0
Provides-Extra: dev
Requires-Dist: black>=22.0.0; extra == "dev"
Requires-Dist: isort>=5.0.0; extra == "dev"
Requires-Dist: ruff>=0.1.0; extra == "dev"
Requires-Dist: pytest>=7.0.0; extra == "dev"
Requires-Dist: pytest-cov>=4.0.0; extra == "dev"
Requires-Dist: pre-commit>=2.20.0; extra == "dev"

# ğŸš€ Enhanced Trading System

A sophisticated algorithmic trading system with regime detection, adaptive features, and IBKR integration designed to achieve **65%+ returns**.

## ğŸ¯ Features

- **ğŸ¯ Regime Detection**: Identifies trend, chop, and volatile market conditions
- **âš–ï¸ Multi-Signal Blending**: Combines trend-following, mean-reversion, and breakout signals
- **ğŸ“Š Risk Management**: Built-in position sizing and drawdown protection
- **ğŸ”„ Adaptive Features**: Feature importance based on rolling performance
- **ğŸ¦ IBKR Integration**: Professional-grade data and execution
- **ğŸ“ˆ Performance Tracking**: Comprehensive metrics and logging
- **ğŸ”” Discord Notifications**: Real-time alerts and summaries
- **ğŸ§ª Paper Trading**: Risk-free testing environment

## ğŸ“Š Expected Performance

| Metric | Target | Current System | Improvement |
|--------|--------|----------------|-------------|
| **Total Return** | 65%+ annually | 27.42% | +137% |
| **Sharpe Ratio** | 2.0+ | 1.27 | +57% |
| **Max Drawdown** | < 10% | -15% | +33% |
| **Win Rate** | 65%+ | 55% | +18% |

## ğŸš€ Quick Start

### Prerequisites
- Python 3.8 or higher
- IBKR Gateway (for live data)
- Git

### Installation
```bash
# Clone the repository
git clone <repository-url>
cd trader

# Install dependencies
pip install -e ".[dev]"

# Install pre-commit hooks
pre-commit install
```

### Configuration
1. **Copy environment template**:
   ```bash
   cp config/env_example.txt .env
   ```

2. **Configure IBKR settings** in `config/enhanced_paper_trading_config.json`:
   ```json
   {
     "use_ibkr": true,
     "ibkr_config": {
       "paper_trading": true,
       "host": "127.0.0.1",
       "port": 7497,
       "client_id": 12399
     }
   }
   ```

3. **Set up IBKR Gateway** (see `IBKR_GATEWAY_SETUP.md`)

### Running the System

#### Paper Trading
```bash
# Run daily trading session
python enhanced_paper_trading.py --daily

# Run with specific date
python enhanced_paper_trading.py --date 2025-08-13
```

#### Automated Trading
```bash
# Setup systemd service (recommended)
sudo systemctl enable trading-bot.service
sudo systemctl start trading-bot.service

# Or use cron
crontab -e
# Add: 30 9 * * 1-5 /path/to/run_trading_cron.sh
```

#### Monitoring
```bash
# Terminal dashboard
python attic/simple_dashboard.py

# Web dashboard
python attic/dashboard.py
# Access at: http://localhost:5000

# Check logs
tail -f logs/trading_bot.log
```

## ğŸ—ï¸ Project Structure

```
ğŸ“ Enhanced Trading System/
â”œâ”€â”€ ğŸ“ core/                    # Core systems and utilities
â”‚   â”œâ”€â”€ regime_detector.py      # Market regime detection
â”‚   â”œâ”€â”€ feature_reweighter.py   # Feature performance tracking
â”‚   â”œâ”€â”€ enhanced_logging.py     # Enhanced logging system
â”‚   â”œâ”€â”€ notifications.py        # Discord notifications
â”‚   â””â”€â”€ utils.py               # Common utilities
â”œâ”€â”€ ğŸ“ strategies/              # Trading strategies
â”‚   â”œâ”€â”€ regime_aware_ensemble.py # Main ensemble strategy
â”‚   â”œâ”€â”€ ensemble_strategy.py    # Basic ensemble
â”‚   â”œâ”€â”€ sma_crossover.py        # SMA strategy
â”‚   â”œâ”€â”€ momentum.py             # Momentum strategy
â”‚   â”œâ”€â”€ mean_reversion.py       # Mean reversion strategy
â”‚   â””â”€â”€ factory.py              # Strategy factory
â”œâ”€â”€ ğŸ“ features/                # Feature engineering
â”‚   â”œâ”€â”€ feature_engine.py       # Feature generation
â”‚   â””â”€â”€ ensemble.py             # Feature combination
â”œâ”€â”€ ğŸ“ brokers/                 # Broker integrations
â”‚   â”œâ”€â”€ ibkr_broker.py          # IBKR broker integration
â”‚   â””â”€â”€ data_provider.py        # Data provider abstraction
â”œâ”€â”€ ğŸ“ config/                  # Configuration files
â”‚   â”œâ”€â”€ enhanced_paper_trading_config.json # Main config
â”‚   â”œâ”€â”€ ibkr_config.json        # IBKR settings
â”‚   â””â”€â”€ notifications/          # Notification settings
â”œâ”€â”€ ğŸ“ logs/                    # Comprehensive logging
â”‚   â”œâ”€â”€ trades/                 # Trade execution logs
â”‚   â”œâ”€â”€ performance/            # Performance metrics
â”‚   â”œâ”€â”€ errors/                 # Error tracking
â”‚   â””â”€â”€ system/                 # System operations
â”œâ”€â”€ ğŸ“ results/                 # Performance results
â”‚   â”œâ”€â”€ performance_report.json # Performance metrics
â”‚   â”œâ”€â”€ trade_history.csv       # Trade history
â”‚   â””â”€â”€ daily_returns.csv       # Daily returns
â”œâ”€â”€ ğŸ“ data/                    # Data storage
â”‚   â””â”€â”€ ibkr/                   # IBKR cached data
â”œâ”€â”€ ğŸ“ attic/                   # Development tools (moved)
â”œâ”€â”€ ğŸ“„ enhanced_paper_trading.py # Main trading system
â”œâ”€â”€ ğŸ“„ pyproject.toml           # Python packaging
â”œâ”€â”€ ğŸ“„ requirements.txt         # Dependencies
â””â”€â”€ ğŸ“„ README.md               # This file
```

## ğŸ§ª Development

### Running Tests
```bash
# Run all tests
pytest

# Run with coverage
pytest --cov=core --cov=strategies --cov=features --cov=brokers

# Run specific test
pytest tests/test_strategies.py
```

### Code Quality
```bash
# Format code
black .

# Sort imports
isort .

# Lint code
ruff check .

# Run all checks
pre-commit run --all-files
```

### Development Setup
```bash
# Install development dependencies
pip install -e ".[dev]"

# Install pre-commit hooks
pre-commit install

# Run validation
python attic/validate_system.py
```

## ğŸ“‹ Configuration

### Environment Variables
- `IBKR_PAPER_TRADING`: Set to `true` for paper trading
- `IBKR_HOST`: IBKR Gateway host (default: `127.0.0.1`)
- `IBKR_PORT`: IBKR Gateway port (default: `7497`)
- `IBKR_CLIENT_ID`: Unique client ID for IBKR connection

### Configuration Files
- `config/enhanced_paper_trading_config.json`: Main configuration
- `config/ibkr_config.json`: IBKR connection settings
- `config/notifications/discord_config.json`: Discord settings

See `CONFIGURATION.md` for detailed configuration options.

## ğŸ“ˆ Performance Tracking

### Key Metrics
- **Total Return**: Overall portfolio performance
- **Sharpe Ratio**: Risk-adjusted returns
- **Max Drawdown**: Largest peak-to-trough decline
- **Win Rate**: Percentage of profitable trades
- **Regime Performance**: Returns by market regime

### Monitoring
- **Real-time logs**: `logs/trading_bot.log`
- **Trade history**: `logs/trades/trades_YYYY-MM.log`
- **Performance metrics**: `results/performance_report.json`
- **Daily summaries**: `logs/performance/performance_YYYY-MM.log`

## ğŸ”§ Troubleshooting

### Common Issues
1. **IBKR Connection Failed**: Check host, port, and client ID
2. **No Trades Generated**: Check signal confidence thresholds
3. **Poor Performance**: Review regime detection accuracy
4. **High Drawdown**: Adjust position sizing parameters

### Health Check
```bash
# Run system validation
python attic/validate_system.py

# Check service status
sudo systemctl status trading-bot.service

# Monitor logs
tail -f logs/trading_bot.log
```

## ğŸ“š Documentation

- `CONFIGURATION.md`: Configuration options and environment variables
- `CONTRIBUTING.md`: Development guidelines and contribution process
- `CHANGELOG.md`: Version history and changes
- `attic/IBKR_GATEWAY_SETUP.md`: IBKR Gateway setup instructions
- `attic/TRADING_PERFORMANCE_GUIDE.md`: Performance tracking guide
- `attic/END_TO_END_TESTING_GUIDE.md`: Testing and validation guide

## ğŸ¤ Contributing

We welcome contributions! Please see `CONTRIBUTING.md` for guidelines.

### Development Workflow
1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Add tests
5. Run code quality checks
6. Submit a pull request

## ğŸ“„ License

This project is licensed under the MIT License - see the LICENSE file for details.

## âš ï¸ Disclaimer

This software is for educational and research purposes only. Trading involves substantial risk of loss and is not suitable for all investors. Past performance does not guarantee future results.

## ğŸ†˜ Support

- **Issues**: Create a GitHub issue for bugs or feature requests
- **Discussions**: Use GitHub Discussions for questions
- **Documentation**: Check the documentation files first

---

**Start your automated trading journey today!** ğŸš€
