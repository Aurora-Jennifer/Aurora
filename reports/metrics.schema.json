{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": [
    "timestamp",
    "status",
    "folds",
    "symbols",
    "trades",
    "duration_s",
    "sharpe",
    "max_drawdown"
  ],
  "properties": {
    "timestamp": {"type": "string"},
    "status": {"type": "string", "enum": ["OK", "FAIL"]},
    "folds": {"type": "integer", "minimum": 1},
    "symbols": {"type": "array", "items": {"type": "string"}},
    "trades": {"type": "integer", "minimum": 1},
    "duration_s": {"type": "number", "maximum": 60},
    "sharpe": {"type": "number", "minimum": -10, "maximum": 10},
    "max_drawdown": {"type": "number", "minimum": -1.0, "maximum": 0.0},
    "phase_times_ms": {
      "type": "object",
      "properties": {
        "load": {"type": "number", "minimum": 0},
        "features": {"type": "number", "minimum": 0},
        "folds": {"type": "number", "minimum": 0},
        "finalize": {"type": "number", "minimum": 0}
      },
      "additionalProperties": true
    },
    "fold_summaries": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["fold", "sharpe", "max_drawdown", "trades", "duration_ms"],
        "properties": {
          "fold": {"type": "integer", "minimum": 0},
          "sharpe": {"type": "number", "minimum": -10, "maximum": 10},
          "max_drawdown": {"type": "number", "minimum": -1.0, "maximum": 0.0},
          "trades": {"type": "integer", "minimum": 0},
          "duration_ms": {"type": "number", "minimum": 0}
        }
      }
    },
    "violation_code": {"type": "string"},
    "reason": {"type": "string"}
  }
}

